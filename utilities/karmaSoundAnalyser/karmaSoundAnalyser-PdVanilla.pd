#N canvas 132 23 1238 695 10;
#X obj 99 273 adc~;
#X obj 34 173 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 19 290 *~;
#X obj 19 338 dac~;
#X obj 185 510 loadbang;
#X obj 100 46 bng 15 250 50 0 empty empty empty 0 -6 0 10 -262144 -1
-1;
#X msg 100 84 \; pd dsp 1;
#X msg 33 85 \; pd dsp 0;
#X obj 33 48 bng 15 250 50 0 empty empty empty 0 -6 0 10 -262144 -1
-1;
#X text 31 15 Turn On/Off Pd.DSP;
#N canvas 265 23 1009 680 karmaFiddle 1;
#X obj 217 287 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 59.0168 256;
#X obj 272 317 unpack;
#X obj 272 352 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 74.6524 256;
#X obj 345 334 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 74.3172 256;
#X obj 272 376 route 0;
#X obj 300 276 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 75.6761 256;
#X obj 345 389 > 50;
#X obj 345 419 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 345 439 sel 1 0;
#X obj 345 469 timer;
#X floatatom 346 500 5 0 0 0 - - -, f 5;
#X obj 346 552 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 202 337 Attack;
#X obj 273 407 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 74.6524 256;
#X text 214 406 Raw Pitch;
#X text 344 317 Raw Amplitude;
#X text 294 105 1024 = FFT window size;
#X msg 297 127 npoints 1024;
#X msg 297 153 npoints 2048;
#X obj 346 522 > 2000;
#X obj 346 578 s silence;
#X text 81 32 Uses the fiddle object to extract FFT and some other
information.;
#X obj 490 554 unpack;
#X obj 490 577 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 164.839 256;
#X obj 523 577 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0.00860772 256;
#X obj 505 475 unpack;
#X text 488 32 5 EQUALIZER BANDS WITH THEIR PITCH (Hz) AND AMPLITUDE
(rms);
#X obj 505 495 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 609.656 256;
#X obj 538 495 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0.0217531 256;
#X obj 521 396 unpack;
#X obj 521 416 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 1181.99 256;
#X obj 554 416 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0.0369655 256;
#X obj 537 317 unpack;
#X obj 537 337 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 2470.43 256;
#X obj 570 337 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0.00977964 256;
#X obj 553 239 unpack;
#X obj 553 259 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 3035.09 256;
#X obj 586 259 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0.00796645 256;
#X obj 80 212 inlet~ LeftAudio;
#X obj 87 236 inlet~ RightAudio;
#X text 137 522 Bang Detects 2 sec non-variation;
#X text 135 536 (potentially end of track/set);
#X text 391 521 ms;
#X obj 146 305 s fiddle_pitch;
#X obj 490 614 s fft1p;
#X obj 523 594 s fft1a;
#X obj 538 511 s fft2a;
#X obj 521 452 s fft3p;
#X obj 554 433 s fft3a;
#X obj 537 373 s fft4p;
#X obj 570 354 s fft4a;
#X obj 553 295 s fft5p;
#X obj 586 276 s fft5a;
#X text 140 286 Cooked Pitch;
#X text 357 276 Amplitude (db);
#X obj 569 160 unpack;
#X obj 569 180 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 6912.46 256;
#X obj 602 180 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0.000791028 256;
#X obj 602 197 s fft6a;
#X obj 569 216 s fft6p;
#X obj 585 82 unpack;
#X obj 585 102 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X obj 618 102 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X obj 490 58 route 1 2 3 4 5 6 7;
#X obj 217 253 fiddle~ 1024 1 50 7;
#X obj 585 138 s fft7p;
#X obj 618 119 s fft7a;
#X obj 505 530 s fft2p;
#X obj 356 356 s fiddle_raw_amp;
#X obj 300 294 s fiddle_amp;
#X obj 105 107 inlet on_off_switch;
#X obj 84 112 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 216 428 s fiddle_raw_pitch;
#X obj 165 359 s fiddle_attack;
#X obj 244 337 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 130 163 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 130 127 route 0 1;
#X obj 155 164 i 1;
#X obj 741 477 r karma-fiddle-off;
#X obj 22 186 s karma-fiddle-off;
#X obj 741 543 i 0;
#X text 741 460 Reset all values;
#X obj 748 500 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 199 164 i 0;
#X obj 741 568 s fiddler_reset;
#X obj 677 85 r fiddler_reset;
#X obj 662 163 r fiddler_reset;
#X obj 649 242 r fiddler_reset;
#X obj 634 320 r fiddler_reset;
#X obj 616 399 r fiddler_reset;
#X obj 601 478 r fiddler_reset;
#X obj 592 560 r fiddler_reset;
#X obj 358 259 r fiddler_reset;
#X obj 104 391 r fiddler_reset;
#X msg 199 189 auto \$1;
#X obj 748 520 delay 50;
#X floatatom 806 60 5 0 0 0 Sending_Freq_(ms) - -, f 5;
#X obj 829 109 loadbang;
#X obj 829 129 i 1;
#X obj 782 198 i;
#X obj 820 199 + 1;
#X floatatom 782 221 5 0 0 0 - - -, f 5;
#X obj 783 150 OSCCleanFloat 100;
#X obj 797 175 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 221 219 *~;
#X obj 87 264 *~;
#X text 747 358 TODO;
#X text 745 372 http://stackoverflow.com/questions/20408388/how-to-filter-fft-data-for-audio-visualisation
;
#X connect 0 0 43 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 2 0 4 0;
#X connect 3 0 6 0;
#X connect 3 0 68 0;
#X connect 4 1 13 0;
#X connect 5 0 69 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 8 1 9 1;
#X connect 9 0 10 0;
#X connect 10 0 19 0;
#X connect 11 0 20 0;
#X connect 13 0 72 0;
#X connect 17 0 64 0;
#X connect 18 0 64 0;
#X connect 19 0 11 0;
#X connect 22 0 23 0;
#X connect 22 1 24 0;
#X connect 23 0 44 0;
#X connect 24 0 45 0;
#X connect 25 0 27 0;
#X connect 25 1 28 0;
#X connect 27 0 67 0;
#X connect 28 0 46 0;
#X connect 29 0 30 0;
#X connect 29 1 31 0;
#X connect 30 0 47 0;
#X connect 31 0 48 0;
#X connect 32 0 33 0;
#X connect 32 1 34 0;
#X connect 33 0 49 0;
#X connect 34 0 50 0;
#X connect 35 0 36 0;
#X connect 35 1 37 0;
#X connect 36 0 51 0;
#X connect 37 0 52 0;
#X connect 38 0 104 0;
#X connect 39 0 105 0;
#X connect 55 0 56 0;
#X connect 55 1 57 0;
#X connect 56 0 59 0;
#X connect 57 0 58 0;
#X connect 60 0 61 0;
#X connect 60 1 62 0;
#X connect 61 0 65 0;
#X connect 61 0 102 0;
#X connect 62 0 66 0;
#X connect 63 0 22 0;
#X connect 63 1 25 0;
#X connect 63 2 29 0;
#X connect 63 3 32 0;
#X connect 63 4 35 0;
#X connect 63 5 55 0;
#X connect 63 6 60 0;
#X connect 64 0 0 0;
#X connect 64 1 73 0;
#X connect 64 1 74 0;
#X connect 64 2 1 0;
#X connect 64 3 5 0;
#X connect 64 4 63 0;
#X connect 70 0 71 0;
#X connect 71 0 76 0;
#X connect 75 0 79 0;
#X connect 76 0 75 0;
#X connect 76 0 83 0;
#X connect 76 1 77 0;
#X connect 77 0 94 0;
#X connect 77 0 104 1;
#X connect 77 0 105 1;
#X connect 78 0 80 0;
#X connect 78 0 82 0;
#X connect 80 0 84 0;
#X connect 82 0 95 0;
#X connect 83 0 94 0;
#X connect 83 0 104 1;
#X connect 83 0 105 1;
#X connect 85 0 62 0;
#X connect 85 0 61 0;
#X connect 86 0 57 0;
#X connect 86 0 56 0;
#X connect 87 0 37 0;
#X connect 87 0 36 0;
#X connect 88 0 34 0;
#X connect 88 0 33 0;
#X connect 89 0 31 0;
#X connect 89 0 30 0;
#X connect 90 0 28 0;
#X connect 90 0 27 0;
#X connect 91 0 24 0;
#X connect 91 0 23 0;
#X connect 92 0 5 0;
#X connect 92 0 3 0;
#X connect 93 0 13 0;
#X connect 93 0 0 0;
#X connect 94 0 64 0;
#X connect 95 0 80 0;
#X connect 97 0 98 0;
#X connect 98 0 102 1;
#X connect 99 0 101 0;
#X connect 99 0 100 0;
#X connect 100 0 99 1;
#X connect 102 0 103 0;
#X connect 103 0 99 0;
#X connect 104 0 64 0;
#X connect 105 0 64 0;
#X restore 239 290 pd karmaFiddle;
#X text 176 484 OSC SERVER CONFIGURATION;
#X floatatom 825 137 5 0 0 0 - - -, f 5;
#X floatatom 824 158 5 0 0 0 - - -, f 5;
#X floatatom 824 181 5 0 0 0 - - -, f 5;
#X floatatom 824 202 5 0 0 0 - - -, f 5;
#X floatatom 823 226 5 0 0 0 - - -, f 5;
#X floatatom 823 247 5 0 0 0 - - -, f 5;
#X floatatom 823 271 5 0 0 0 - - -, f 5;
#X floatatom 823 292 5 0 0 0 - - -, f 5;
#X floatatom 824 316 5 0 0 0 - - -, f 5;
#X floatatom 825 337 5 0 0 0 - - -, f 5;
#X obj 37 212 hsl 100 15 0 1 0 0 0 ¸áÿ¿» 0 0 0 0 4 -262144 -1
-1 0 0;
#X obj 771 428 r silence;
#X obj 771 320 r fft5p;
#X obj 771 299 r fft5a;
#X obj 771 275 r fft4p;
#X obj 771 254 r fft4a;
#X obj 771 230 r fft3p;
#X obj 771 209 r fft3a;
#X obj 771 185 r fft2p;
#X obj 771 164 r fft2a;
#X obj 772 141 r fft1p;
#X obj 772 120 r fft1a;
#X text 379 38 - - - - - - - - - - - - - - - - - - - - - - - - - -
- - - -;
#X text 19 493 - - - - - - - - - - - - - - - - - - - - - - - - - -
;
#X text 739 38 - - - - - - - - - - - - - - - - - - - - - - - - - -
- - - -;
#X obj 771 449 r fiddle_pitch;
#X obj 771 471 r fiddle_attack;
#X obj 771 492 r fiddle_amp;
#X obj 320 252 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X text 265 250 (on/off);
#X obj 909 445 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X floatatom 893 466 5 0 0 0 - - -, f 5;
#X obj 771 537 r fiddle_raw_pitch;
#X floatatom 893 554 5 0 0 0 - - -, f 5;
#X floatatom 891 509 5 0 0 0 - - -, f 5;
#X floatatom 892 531 5 0 0 0 - - -, f 5;
#X obj 908 488 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 1162 488 + 1;
#X floatatom 1131 513 5 0 0 0 - - -, f 5;
#X obj 380 130 r aubio_pitch;
#X obj 380 153 r aubio_quiet;
#X obj 771 514 r fiddle_raw_amp;
#X obj 143 319 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X text 162 318 (on/off);
#X obj 496 170 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 380 200 r aubio_tempo_bis;
#X obj 498 217 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 380 246 r aubio_bpm;
#X floatatom 481 263 5 0 0 0 - - -, f 5;
#X obj 380 223 r aubio_tempo;
#X obj 498 240 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 380 269 r aubio_onset;
#X obj 498 286 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 44 234 5 0 0 0 - - -, f 5;
#X floatatom 480 308 5 0 0 0 - - -, f 5;
#X obj 379 291 r aubio_zcr;
#X text 378 49 All analysed data is routed to OSC messages in this
section;
#X text 378 102 :: LIB AUBIO ROUTING ::;
#X text 56 172 On/Off;
#X obj 258 235 loadbang;
#X msg 185 540 connect localhost 12000;
#X obj 21 623 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 21 538 spigot;
#X text 42 622 UDP State;
#X text 198 270 FFT & MORE ANALYSIS;
#X obj 143 296 loadbang;
#N canvas 314 23 997 667 aubio 1;
#X obj 41 216 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 462 174 aubiopitch~;
#X obj 462 221 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 1291.27 256;
#X obj 130 217 bng 15 50 10 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 217 218 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 130 173 aubiotempo~ 0.5;
#X obj 322 358 i;
#X obj 360 359 + 1;
#X floatatom 322 388 5 0 0 0 - - -, f 5;
#X obj 158 379 timer;
#X floatatom 158 405 5 0 0 0 - - -, f 5;
#X floatatom 158 530 5 0 0 0 - - -, f 5;
#X obj 158 432 expr ($i1 / 6) * 2;
#X floatatom 245 461 5 0 0 0 - - -, f 5;
#X floatatom 158 461 5 0 0 0 - - -, f 5;
#X floatatom 322 459 5 0 0 0 - - -, f 5;
#X floatatom 345 489 5 0 0 0 - - -, f 5;
#X floatatom 368 472 5 0 0 0 - - -, f 5;
#N canvas 281 187 746 413 timer_utility 0;
#X obj 101 28 inlet;
#X obj 101 377 outlet;
#X obj 160 28 inlet;
#X obj 394 185 sel 0;
#X obj 393 215 0;
#X obj 356 239 metro 1000;
#X obj 101 181 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 101 206 i;
#X obj 143 207 + 1;
#X obj 101 242 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 22754 256;
#X obj 101 322 div 4;
#X obj 101 348 + 1;
#X obj 199 350 + 1;
#X obj 191 376 outlet;
#X obj 215 101 expr ($i1 * 60) / 1000;
#X obj 215 29 inlet;
#X obj 215 132 outlet;
#X obj 237 233 inlet;
#X obj 192 322 mod 4;
#X obj 275 378 outlet;
#X obj 349 380 outlet;
#X obj 276 324 div 60;
#X obj 350 326 mod 60;
#X obj 355 124 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 356 155 t b f;
#X obj 237 264 t f f;
#X connect 0 0 6 0;
#X connect 3 0 4 0;
#X connect 5 0 21 0;
#X connect 5 0 22 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 7 0 9 0;
#X connect 8 0 7 1;
#X connect 9 0 10 0;
#X connect 9 0 18 0;
#X connect 10 0 11 0;
#X connect 11 0 1 0;
#X connect 14 0 16 0;
#X connect 15 0 14 0;
#X connect 17 0 25 0;
#X connect 18 0 13 0;
#X connect 21 0 19 0;
#X connect 22 0 20 0;
#X connect 23 0 24 0;
#X connect 24 0 5 0;
#X connect 24 1 3 0;
#X connect 25 0 18 1;
#X connect 25 1 10 1;
#X restore 322 419 pd timer_utility;
#X text 16 13 Uses lib Aubio to get several MIR information;
#X obj 238 64 inlet~ LeftAudio;
#X obj 350 64 inlet~ RightAudio;
#X obj 281 174 aubioquiet~;
#X obj 515 71 inlet on_off_switch;
#X obj 345 511 hradio 15 1 0 4 empty empty empty 0 -8 0 10 -262144
-1 -1 2;
#X text 325 331 METRONOM;
#X text 173 328 TEMPO // BPM;
#X obj 365 88 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 41 287 s aubio_onset;
#X obj 130 287 s aubio_tempo;
#X obj 217 287 s aubio_tempo_bis;
#X obj 462 266 s aubio_pitch;
#X obj 310 518 == 0;
#X obj 345 535 tgl 60 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 158 554 s aubio_bpm;
#X obj 716 174 aubiotss~;
#X obj 716 259 vsl 15 100 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 5619 1;
#X obj 716 198 env~;
#X obj 767 259 vsl 15 100 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 4185 1;
#X obj 767 199 env~;
#X obj 716 151 hsl 100 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 0;
#X floatatom 787 166 5 0 0 0 - - -, f 5;
#X text 713 133 Variation Threshold;
#X obj 577 176 aubiozcr~;
#X floatatom 577 238 5 0 0 0 - - -, f 5;
#X obj 577 366 s aubio_zcr;
#X obj 19 541 i 0;
#X text 19 453 Reset all values;
#X obj 29 495 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 29 515 delay 1000;
#X obj 517 103 s aubio-off;
#X obj 19 470 r aubio-off;
#X obj 19 568 s aubio_reset;
#X obj 804 240 r aubio_reset;
#X obj 471 197 r aubio_reset;
#X obj 196 513 r aubio_reset;
#X obj 376 441 r aubio_reset;
#N canvas 775 308 450 300 clean_signal 0;
#X obj 51 133 ==;
#X obj 93 116 f;
#X floatatom 102 139 5 0 0 0 - - -, f 5;
#X text 24 10 SIGNAL CLEANER;
#X obj 51 68 inlet float;
#X obj 51 156 sel 0;
#X obj 93 163 outlet float;
#X text 25 24 Prevents resending bangs when the float value has not
changed. (Sort of flood filter);
#X connect 0 0 5 0;
#X connect 1 0 0 1;
#X connect 1 0 2 0;
#X connect 1 0 6 0;
#X connect 4 0 1 1;
#X connect 4 0 0 0;
#X connect 5 0 1 0;
#X restore 462 243 pd clean_signal;
#X floatatom 577 299 5 0 0 0 - - -, f 5;
#X obj 543 315 -;
#X obj 543 337 abs;
#X obj 522 421 sqrt;
#X text 13 75 Treshold Tempo;
#X text 14 98 Treshold OnSet;
#X obj 591 278 r aubio_reset;
#X floatatom 634 237 5 0 20 2 - - -, f 5;
#X text 584 221 Zcr;
#X text 613 300 Smoothed;
#N canvas 960 356 450 300 clean_signal 0;
#X obj 51 133 ==;
#X obj 93 116 f;
#X floatatom 102 139 5 0 0 0 - - -, f 5;
#X text 24 10 SIGNAL CLEANER;
#X obj 51 68 inlet float;
#X obj 51 156 sel 0;
#X obj 93 163 outlet float;
#X text 25 24 Prevents resending bangs when the float value has not
changed. (Sort of flood filter);
#X connect 0 0 5 0;
#X connect 1 0 0 1;
#X connect 1 0 2 0;
#X connect 1 0 6 0;
#X connect 4 0 1 1;
#X connect 4 0 0 0;
#X connect 5 0 1 0;
#X restore 577 342 pd clean_signal;
#X obj 560 388 r aubio_reset;
#X obj 580 420 hsl 100 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 3041 1;
#X obj 580 438 hsl 100 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 1360 1;
#X obj 496 315 hsl 40 15 -0.1 0.1 0 0 empty empty empty -2 -8 0 10
-262144 -1 -1 0 1;
#X floatatom 154 78 5 0 0 0 - - -, f 5;
#X text 629 208 Smoothing;
#X text 630 219 Treshold;
#X obj 107 78 hsl 40 15 0 4 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 900 1;
#X floatatom 154 98 5 0 0 0 - - -, f 5;
#X obj 107 99 hsl 40 15 0 2 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 3100 1;
#X floatatom 506 334 5 0 0 0 - - -, f 5;
#X text 102 56 PARAMETERS;
#X text 491 298 Treshold;
#X obj 716 450 <;
#X obj 722 424 f 0.005;
#X obj 767 220 / 127;
#X obj 716 220 / 127;
#X obj 722 403 loadbang;
#X obj 787 261 vsl 15 100 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 5274 1;
#X obj 846 317 -, f 2;
#X obj 577 320 * 5;
#X obj 478 354 -;
#X text 575 453 ZeroCross Variation;
#X obj 522 398 * 2;
#X obj 767 450 <;
#X obj 722 386 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 752 476 == 0;
#X obj 716 501 &;
#X obj 306 242 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 742 531 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 716 477 == 0;
#X text 761 530 isPlaying;
#X obj 716 575 s aubio_is_playing;
#X obj 335 218 r aubio_is_playing;
#X obj 335 239 sel 1;
#X obj 306 217 i 0;
#X obj 846 379 sqrt;
#X text 810 287 (~Sound similarity indicator);
#X text 575 467 (~cymbal detection);
#X floatatom 623 322 5 0 0 0 - - -, f 5;
#X obj 435 13 aubio;
#X obj 41 171 aubioonset~;
#X obj 158 349 km_alternate;
#X obj 238 103 *~;
#X obj 350 110 *~;
#X obj 846 408 sqrt;
#X obj 577 258 km_average 10;
#X obj 478 376 km_average 3;
#X obj 846 348 km_average 30;
#X msg 41 244 bang;
#X msg 217 246 bang;
#X msg 130 247 bang;
#X obj 158 489 km_average 30;
#X obj 281 217 i 1;
#X msg 281 261 bang;
#X msg 355 174 bang;
#X obj 364 278 s aubio_quiet;
#X obj 355 196 s aubio_noisy;
#X text 477 14 Loads Aubio lib on misconfigured Pd installations;
#X text 479 28 (reload sketch);
#X obj 764 501 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 716 531 i;
#N canvas 775 308 450 300 clean_signal 0;
#X obj 51 133 ==;
#X floatatom 102 139 5 0 0 0 - - -, f 5;
#X text 24 10 SIGNAL CLEANER;
#X obj 51 156 sel 0;
#X obj 51 68 inlet int;
#X text 25 24 Prevents resending bangs when the int value has not changed.
(Sort of flood filter);
#X obj 93 163 outlet int;
#X obj 93 116 i;
#X connect 0 0 3 0;
#X connect 3 0 7 0;
#X connect 4 0 0 0;
#X connect 4 0 7 1;
#X connect 7 0 0 1;
#X connect 7 0 1 0;
#X connect 7 0 6 0;
#X restore 716 553 pd clean_signal;
#X connect 0 0 118 0;
#X connect 1 0 2 0;
#X connect 2 0 57 0;
#X connect 3 0 6 0;
#X connect 3 0 111 0;
#X connect 3 0 120 0;
#X connect 4 0 119 0;
#X connect 5 0 3 0;
#X connect 5 1 4 0;
#X connect 6 0 8 0;
#X connect 6 0 7 0;
#X connect 7 0 6 1;
#X connect 8 0 18 0;
#X connect 9 0 10 0;
#X connect 10 0 12 0;
#X connect 11 0 34 0;
#X connect 12 0 14 0;
#X connect 14 0 121 0;
#X connect 16 0 24 0;
#X connect 16 0 32 0;
#X connect 18 0 15 0;
#X connect 18 1 16 0;
#X connect 18 2 17 0;
#X connect 20 0 112 0;
#X connect 21 0 113 0;
#X connect 22 0 122 0;
#X connect 22 1 124 0;
#X connect 23 0 27 0;
#X connect 27 0 50 0;
#X connect 27 0 112 1;
#X connect 27 0 113 1;
#X connect 32 0 33 0;
#X connect 35 0 37 0;
#X connect 35 1 39 0;
#X connect 36 0 82 0;
#X connect 36 0 88 0;
#X connect 37 0 85 0;
#X connect 38 0 88 1;
#X connect 38 0 93 0;
#X connect 39 0 84 0;
#X connect 40 0 35 1;
#X connect 40 0 41 0;
#X connect 43 0 44 0;
#X connect 44 0 59 1;
#X connect 44 0 115 0;
#X connect 46 0 52 0;
#X connect 48 0 49 0;
#X connect 49 0 46 0;
#X connect 51 0 46 0;
#X connect 51 0 48 0;
#X connect 53 0 36 0;
#X connect 53 0 38 0;
#X connect 54 0 2 0;
#X connect 55 0 11 0;
#X connect 56 0 15 0;
#X connect 56 0 16 0;
#X connect 57 0 31 0;
#X connect 58 0 59 0;
#X connect 58 0 89 0;
#X connect 59 0 60 0;
#X connect 60 0 90 0;
#X connect 61 0 71 0;
#X connect 64 0 58 0;
#X connect 68 0 45 0;
#X connect 68 0 108 0;
#X connect 69 0 71 0;
#X connect 69 0 89 0;
#X connect 72 0 79 0;
#X connect 72 0 90 1;
#X connect 76 0 73 0;
#X connect 76 0 5 1;
#X connect 78 0 77 0;
#X connect 78 0 110 1;
#X connect 82 0 99 0;
#X connect 83 0 82 1;
#X connect 83 0 93 1;
#X connect 84 0 38 0;
#X connect 85 0 36 0;
#X connect 86 0 83 0;
#X connect 88 0 117 0;
#X connect 89 0 70 0;
#X connect 89 0 68 0;
#X connect 90 0 116 0;
#X connect 92 0 61 0;
#X connect 93 0 95 0;
#X connect 95 0 96 1;
#X connect 95 0 129 0;
#X connect 96 0 130 0;
#X connect 96 0 98 0;
#X connect 99 0 96 0;
#X connect 102 0 103 0;
#X connect 103 0 104 0;
#X connect 104 0 97 0;
#X connect 105 0 114 0;
#X connect 110 0 0 0;
#X connect 111 0 9 0;
#X connect 111 1 9 1;
#X connect 112 0 110 0;
#X connect 112 0 5 0;
#X connect 112 0 22 0;
#X connect 112 0 1 0;
#X connect 112 0 43 0;
#X connect 112 0 35 0;
#X connect 113 0 110 0;
#X connect 113 0 5 0;
#X connect 113 0 22 0;
#X connect 113 0 1 0;
#X connect 113 0 43 0;
#X connect 113 0 35 0;
#X connect 114 0 87 0;
#X connect 115 0 58 0;
#X connect 116 0 92 0;
#X connect 117 0 105 0;
#X connect 118 0 28 0;
#X connect 119 0 30 0;
#X connect 120 0 29 0;
#X connect 121 0 11 0;
#X connect 122 0 97 0;
#X connect 122 0 123 0;
#X connect 123 0 125 0;
#X connect 124 0 126 0;
#X connect 130 0 131 0;
#X connect 131 0 101 0;
#X restore 98 338 pd aubio;
#X obj 76 536 spigot;
#X obj 109 469 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 76 559 print;
#X floatatom 480 147 5 0 0 0 - - -, f 5;
#X text 127 468 Print Output to Console;
#X text 740 28 Todo: - http://forumnet.ircam.fr/product/antescofo/?lang=en
;
#X obj 380 177 r aubio_is_playing;
#X obj 497 194 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#N canvas 775 308 450 300 clean_signal 0;
#X obj 51 133 ==;
#X obj 93 116 f;
#X floatatom 102 139 5 0 0 0 - - -, f 5;
#X text 24 10 SIGNAL CLEANER;
#X obj 51 68 inlet float;
#X obj 51 156 sel 0;
#X obj 93 163 outlet float;
#X text 25 24 Prevents resending bangs when the float value has not
changed. (Sort of flood filter);
#X connect 0 0 5 0;
#X connect 1 0 0 1;
#X connect 1 0 2 0;
#X connect 1 0 6 0;
#X connect 4 0 1 1;
#X connect 4 0 0 0;
#X connect 5 0 1 0;
#X restore 147 407 pd clean_signal;
#X text 135 621 Many OSC optimisation todo here \, frequency and packing
stuff. See resample.pd and sendmany-osc.pd;
#X text 184 42 Make sure to run this with;
#X obj 21 601 netsend -u -b;
#X obj 68 385 env~;
#X obj 68 407 / 127;
#X obj 106 385 env~;
#X obj 106 407 / 127;
#X obj 88 429 -;
#X text 153 338 LIB AUBIO ANALYSIS SECTION;
#X obj 118 429 * 3;
#X obj 21 643 s osc_status;
#X obj 21 510 r osc_out_raw;
#X obj 1131 488 i 0;
#X obj 1006 113 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1
0 1;
#X text 954 111 Enabled;
#X obj 672 117 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 1129 445 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1
1 1;
#X msg 185 560 connect 192.168.0.11 12000;
#X obj 672 71 loadbang;
#X obj 672 94 i 1;
#X obj 1006 67 loadbang;
#X obj 1006 89 i 0, f 4;
#X text 1038 90 Disabled by default;
#X text 1041 105 (Heavy CPU process);
#X obj 1129 402 loadbang;
#X obj 1129 423 i 1;
#X text 770 98 :: FIDDLE FFT ROUTING ::;
#X text 770 406 :: FIDDLE :: [pitch \, attack \, silence \, amplitude]
ROUTING;
#X obj 150 387 hsl 128 15 -1 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 5324 1;
#X obj 379 313 r aubio_noisy;
#X obj 497 330 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X text 147 366 :: BALANCE ::;
#X text 99 252 :: AUDIO SOURCE ::;
#X text 31 153 :: SOUND OUTPUT CONFIGURATION ::;
#X text 20 484 :: OSC ROUTING ::;
#X text 378 23 :: ROUTING ::;
#X text 185 60 Pd-Vanilla 0.46-7 64bit;
#X text 188 99 Needs pd-Aubio 0.4+;
#X text 56 193 Volume Control;
#X obj 147 429 km_osc_format /balance;
#X obj 877 137 km_osc_format /fft/1/a;
#X obj 877 158 km_osc_format /fft/1/p;
#X obj 877 181 km_osc_format /fft/2/a;
#X obj 876 202 km_osc_format /fft/2/p;
#X obj 876 226 km_osc_format /fft/3/a;
#X obj 875 247 km_osc_format /fft/3/p;
#X obj 875 271 km_osc_format /fft/4/a;
#X obj 874 292 km_osc_format /fft/4/p;
#X obj 874 316 km_osc_format /fft/5/a;
#X obj 873 337 km_osc_format /fft/5/p;
#X obj 930 445 km_osc_format /silence;
#X obj 931 466 km_osc_format /pitch;
#X obj 930 488 km_osc_format /attack;
#X obj 930 509 km_osc_format /amp;
#X obj 931 531 km_osc_format /rawAmp;
#X obj 933 554 km_osc_format /rawPitch;
#X obj 525 147 km_osc_format /aubio/pitch;
#X obj 525 170 km_osc_format /aubio/quiet;
#X obj 526 194 km_osc_format /aubio/playing;
#X obj 525 217 km_osc_format /aubio/tempoBis;
#X obj 525 240 km_osc_format /aubio/tempo;
#X obj 525 263 km_osc_format /aubio/bpm;
#X obj 525 286 km_osc_format /aubio/onSet;
#X obj 525 308 km_osc_format /aubio/zcr;
#X obj 525 330 km_osc_format /aubio/noisy;
#X text 397 397 Listen for re-connection..;
#X obj 399 456 oscparse;
#X msg 399 415 listen 12001;
#X obj 399 435 netreceive -u -b 12001;
#X obj 459 499 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 185 583 disconnect;
#X msg 595 418 listen 0;
#X obj 399 547 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 399 498 route km;
#X obj 399 477 list trim;
#X text 481 499 Unrecognized command received;
#X text 497 415 Disconnects -->;
#X obj 399 523 route reconnectKMSA;
#X obj 531 523 route ping;
#X msg 531 544 bang;
#X obj 531 566 km_osc_format /ping;
#X obj 565 545 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X connect 0 0 2 0;
#X connect 0 0 10 0;
#X connect 0 0 78 0;
#X connect 0 0 91 0;
#X connect 0 1 2 0;
#X connect 0 1 10 1;
#X connect 0 1 78 1;
#X connect 0 1 93 0;
#X connect 1 0 22 0;
#X connect 2 0 3 0;
#X connect 2 0 3 1;
#X connect 4 0 72 0;
#X connect 5 0 6 0;
#X connect 8 0 7 0;
#X connect 22 0 2 1;
#X connect 22 0 65 0;
#X connect 23 0 42 0;
#X connect 23 0 138 0;
#X connect 24 0 21 0;
#X connect 24 0 137 0;
#X connect 25 0 20 0;
#X connect 25 0 136 0;
#X connect 26 0 19 0;
#X connect 26 0 135 0;
#X connect 27 0 18 0;
#X connect 27 0 134 0;
#X connect 28 0 17 0;
#X connect 28 0 133 0;
#X connect 29 0 16 0;
#X connect 29 0 132 0;
#X connect 30 0 15 0;
#X connect 30 0 131 0;
#X connect 31 0 14 0;
#X connect 31 0 130 0;
#X connect 32 0 13 0;
#X connect 32 0 129 0;
#X connect 33 0 12 0;
#X connect 37 0 43 0;
#X connect 37 0 139 0;
#X connect 38 0 48 0;
#X connect 38 0 100 0;
#X connect 38 0 140 0;
#X connect 39 0 46 0;
#X connect 39 0 141 0;
#X connect 40 0 10 2;
#X connect 44 0 45 0;
#X connect 44 0 143 0;
#X connect 49 0 100 1;
#X connect 51 0 82 0;
#X connect 51 0 144 0;
#X connect 52 0 56 0;
#X connect 52 0 145 0;
#X connect 53 0 47 0;
#X connect 53 0 142 0;
#X connect 54 0 78 2;
#X connect 57 0 58 0;
#X connect 57 0 147 0;
#X connect 59 0 60 0;
#X connect 59 0 149 0;
#X connect 61 0 62 0;
#X connect 61 0 148 0;
#X connect 63 0 64 0;
#X connect 63 0 150 0;
#X connect 67 0 66 0;
#X connect 67 0 151 0;
#X connect 71 0 40 0;
#X connect 72 0 90 0;
#X connect 73 0 74 1;
#X connect 73 0 98 0;
#X connect 74 0 90 0;
#X connect 77 0 54 0;
#X connect 79 0 81 0;
#X connect 80 0 79 1;
#X connect 85 0 86 0;
#X connect 85 0 146 0;
#X connect 87 0 127 0;
#X connect 90 0 73 0;
#X connect 91 0 92 0;
#X connect 92 0 95 0;
#X connect 93 0 94 0;
#X connect 94 0 95 1;
#X connect 95 0 97 0;
#X connect 97 0 116 0;
#X connect 99 0 79 0;
#X connect 99 0 74 0;
#X connect 100 0 49 0;
#X connect 100 0 50 0;
#X connect 101 0 128 1;
#X connect 101 0 129 1;
#X connect 101 0 130 1;
#X connect 101 0 131 1;
#X connect 101 0 132 1;
#X connect 101 0 133 1;
#X connect 101 0 134 1;
#X connect 101 0 135 1;
#X connect 101 0 136 1;
#X connect 101 0 137 1;
#X connect 103 0 144 1;
#X connect 103 0 145 1;
#X connect 103 0 146 1;
#X connect 103 0 147 1;
#X connect 103 0 148 1;
#X connect 103 0 149 1;
#X connect 103 0 150 1;
#X connect 103 0 151 1;
#X connect 103 0 152 1;
#X connect 104 0 138 1;
#X connect 104 0 139 1;
#X connect 104 0 140 1;
#X connect 104 0 141 1;
#X connect 104 0 142 1;
#X connect 104 0 143 1;
#X connect 105 0 90 0;
#X connect 106 0 107 0;
#X connect 107 0 103 0;
#X connect 108 0 109 0;
#X connect 109 0 101 0;
#X connect 112 0 113 0;
#X connect 113 0 104 0;
#X connect 116 0 87 0;
#X connect 117 0 118 0;
#X connect 117 0 152 0;
#X connect 154 0 162 0;
#X connect 155 0 156 0;
#X connect 156 0 154 0;
#X connect 158 0 90 0;
#X connect 159 0 156 0;
#X connect 161 0 165 0;
#X connect 161 0 166 0;
#X connect 161 1 157 0;
#X connect 162 0 161 0;
#X connect 165 0 160 0;
#X connect 165 0 72 0;
#X connect 166 0 167 0;
#X connect 166 0 169 0;
#X connect 167 0 168 0;
